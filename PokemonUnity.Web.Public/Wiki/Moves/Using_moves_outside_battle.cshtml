@{
	Layout = "~/Theme/UnityFX/Layout/Wiki/_Layout";
	Page.Title = "Abilities";
}

<section id="WikiaPage" class="WikiaPage V2" onclick="">
	<header id="PageHeader" class="page-header">
		<div class="page-header__main">
			<h1 class="page-header__title">@Page.Title</h1>
		</div>
		@*<div class="page-header__contribution">
			<div>
				<!--Empty div to ensure $actionButton is always pushed to bottom of the container-->
			</div>
			<div class="page-header__contribution-buttons">
				<div class="wds-button-group">
					<a href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Abilities?action=edit" class="wds-button" id="ca-viewsource" data-tracking="ca-viewsource">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 18" class="wds-icon wds-icon-small" id="wds-icons-lock-small">
							<defs>
								<path id="lock-small" d="M14 16H4V8h10v8zM7 4c0-1.104.897-2 2-2s2 .896 2 2v2H7V4zm8 2h-2V4c0-2.205-1.794-4-4-4S5 1.795 5 4v2H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm-5 4H8a1 1 0 1 0 0 2v1a1 1 0 1 0 2 0v-1a1 1 0 1 0 0-2">
								</path>
							</defs>
							<use fill-rule="evenodd" xlink:href="#lock-small">
							</use>
						</svg>
						<span>Edit</span>
					</a>
					<div class="wds-dropdown">
						<div class="wds-button wds-dropdown__toggle">
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" class="wds-icon wds-icon-tiny wds-dropdown__toggle-chevron" id="wds-icons-dropdown-tiny">
								<defs>
									<path id="dropdown-tiny-a" d="M6.0001895,8.80004571 C5.79538755,8.80004571 5.5905856,8.72164496 5.43458411,8.56564348 L2.23455364,5.365613 C2.00575146,5.13681083 1.93695081,4.79280755 2.06095199,4.4936047 C2.18415316,4.19440185 2.47695595,4 2.80015903,4 L9.20021997,4 C9.52342305,4 9.81542583,4.19440185 9.93942701,4.4936047 C10.0634282,4.79280755 9.99462754,5.13681083 9.76582536,5.365613 L6.56579489,8.56564348 C6.4097934,8.72164496 6.20499145,8.80004571 6.0001895,8.80004571 Z">
									</path>
								</defs>
								<use fill-rule="evenodd" xlink:href="#dropdown-tiny-a">
								</use>
							</svg>
						</div>
						<div class="wds-dropdown__content wds-is-not-scrollable wds-is-right-aligned">
							<ul class="wds-list wds-is-linked">
								<li>
									<a id="ca-history" href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Abilities?action=history" data-tracking="ca-history-dropdown">
										History
									</a>
								</li>
								<li>
									<a id="ca-talk" href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Talk:Abilities?action=edit&amp;redlink=1" class="new" data-tracking="ca-talk-dropdown">
										Talk (0)
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<a class="wds-button wds-is-secondary" href="#" id="ShareEntryPoint">
					<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 18" class="wds-icon wds-icon-small" id="wds-icons-share-small">
						<defs>
							<path id="share-small" d="M14.5 15a1.502 1.502 0 0 1-1.406-2.022l.022-.05.017-.045c.236-.52.76-.883 1.367-.883.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5M4.906 9.522l-.022.05-.017.045c-.236.52-.76.883-1.367.883C2.673 10.5 2 9.827 2 9s.673-1.5 1.5-1.5c.607 0 1.131.363 1.367.883l.017.045.022.05a1.482 1.482 0 0 1 0 1.044M14.5 3c.827 0 1.5.673 1.5 1.5S15.327 6 14.5 6a1.503 1.503 0 0 1-1.367-.883l-.017-.045-.022-.05A1.502 1.502 0 0 1 14.5 3m0 7c-1.098 0-2.08.508-2.722 1.303L6.983 9.348a3.653 3.653 0 0 0 0-.696l4.795-1.955A3.492 3.492 0 0 0 14.5 8C16.43 8 18 6.43 18 4.5S16.43 1 14.5 1a3.504 3.504 0 0 0-3.483 3.848L6.222 6.803A3.492 3.492 0 0 0 3.5 5.5C1.57 5.5 0 7.07 0 9s1.57 3.5 3.5 3.5c1.098 0 2.08-.508 2.722-1.303l4.795 1.955A3.504 3.504 0 0 0 14.5 17c1.93 0 3.5-1.57 3.5-3.5S16.43 10 14.5 10">
							</path>
						</defs>
						<use fill-rule="evenodd" xlink:href="#share-small">
						</use>
					</svg>
					<span>Share</span>
				</a>
			</div>
		</div>*@
	</header>
	<hr class="page-header__separator">

	<article id="WikiaMainContent" class="WikiaMainContent">
		<div id="WikiaMainContentContainer" class="WikiaMainContentContainer">
			<div id="content" class="WikiaArticle">
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
					<!-- Google Tag Manager (noscript) -->
					<noscript><iframe src="https://web.archive.org/web/20210512072327if_/https://www.googletagmanager.com/ns.html?id=GTM-N6XD44P" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
					<!-- End Google Tag Manager (noscript) -->
					<div class="mw-parser-output">
						<dl><dd><i>For creating obstacles that can be overcome by using moves on them, see <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Obstacles" title="Obstacles">Obstacles</a>.</i></dd></dl>
						<p>
							This page describes how to&nbsp;<b>use moves outside of battle</b>.
						</p>
						<div id="toc" class="toc">
							<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
							<ul>
								<li class="toclevel-1 tocsection-1"><a href="#Using_moves_outside_battle"><span class="tocnumber">1</span> <span class="toctext">Using moves outside battle</span></a></li>
								<li class="toclevel-1 tocsection-2"><a href="#Interacting_with_an_event"><span class="tocnumber">2</span> <span class="toctext">Interacting with an event</span></a></li>
								<li class="toclevel-1 tocsection-3"><a href="#Interacting_with_a_tile"><span class="tocnumber">3</span> <span class="toctext">Interacting with a tile</span></a></li>
								<li class="toclevel-1 tocsection-4">
									<a href="#Using_the_move_from_the_party_screen"><span class="tocnumber">4</span> <span class="toctext">Using the move from the party screen</span></a>
									<ul>
										<li class="toclevel-2 tocsection-5"><a href="#Fly"><span class="tocnumber">4.1</span> <span class="toctext">Fly</span></a></li>
										<li class="toclevel-2 tocsection-6"><a href="#Milk_Drink_and_Soft-Boiled"><span class="tocnumber">4.2</span> <span class="toctext">Milk Drink and Soft-Boiled</span></a></li>
									</ul>
								</li>
								<li class="toclevel-1 tocsection-7"><a href="#Using_move_animation"><span class="tocnumber">5</span> <span class="toctext">Using move animation</span></a></li>
							</ul>
						</div>

						<div id="incontent_player" class="gpt-ad"></div><h2><span class="mw-headline" id="Using_moves_outside_battle">Using moves outside battle</span></h2>
						<p>
							The <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Script_section" class="mw-redirect" title="Script section">script section</a>&nbsp;<b>PField_FieldMoves</b>&nbsp;handles the use of moves outside battle.
						</p><p>
							The <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Script_section" class="mw-redirect" title="Script section">script section</a>&nbsp;<b>Settings</b>&nbsp;contains a variable that determines whether HMs require a given number of&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Pok%C3%A9mon_Gym" title="Pokémon Gym">Gym Badges</a>&nbsp;in order to be unlocked, or whether they need specific Badges. It also has a number for each move, which is either the number of Badges required or the specific Badge required (where badge 0 is the first Badge, 1 is the second Badge, etc.) in order to be able to use that move outside battle.
						</p><p>
							There are three main ways to use a move outside battle: interacting with an event or tile, selecting the move from the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Party" title="Party">party</a>&nbsp;screen, or selecting the move from the <a class="new" title="Ready menu (page does not exist)" data-uncrawlable-url="L3dpa2kvUmVhZHlfbWVudT9hY3Rpb249ZWRpdCZyZWRsaW5rPTE=" rel="nofollow">Ready menu</a>. The first method uses different scripts from the other two. Below are descriptions of each variation of these methods - the effects themselves are not described, as they are fairly straightforward. Note that all moves use the second method, while some also use the first method as well.
						</p>
						<h2><span class="mw-headline" id="Interacting_with_an_event">Interacting with an event</span></h2>
						<p>
							Interacting with an event is the easiest way to use a move outside battle. The event should, when interacted with, call a method that describes the effect (including checking for whether they are able to use the move for it, e.g. whether they have the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Pok%C3%A9mon_Gym" title="Pokémon Gym">Gym Badge(s)</a>&nbsp;to allow it).
						</p><p>
							The moves that can be used in this way are:
						</p>
						<ul>
							<li>Cut - interact with a small tree.</li>
							<li>Headbutt - interact with a tree.</li>
							<li>Rock Smash - interact with a cracked rock.</li>
							<li>Strength - interact with a boulder.</li>
						</ul>
						<p>
							See the page <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Obstacles" title="Obstacles">Obstacles</a>&nbsp;for details of how to set up events for these objects.
						</p><p>
							For Strength, the boulder event simply moves the boulder if the player runs into it after using Strength. To use Strength in the first place, when the player presses the <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Controls" title="Controls">"Use" button</a>, the game uses a procedure called&nbsp;<code>Events.onAction</code>&nbsp;to check whether the player is facing an event called "Boulder", and if so, to ask if they want to use the move Strength. This procedure is as follows:
						</p>
<pre>Events.onAction += proc { |sender,e|
  facingEvent = $game_player.pbFacingEvent
  if facingEvent &amp;&amp; facingEvent.name=="Boulder"
    Kernel.pbStrength
  end
}
</pre>
						<h2><span class="mw-headline" id="Interacting_with_a_tile">Interacting with a tile</span></h2>
						<p>
							Interacting with a tile means checking the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Tilesets" title="Tilesets">terrain tag</a>&nbsp;of the tile immediately in front of the player. The three moves that can be used in this way are:
						</p>
						<ul>
							<li>Surf - interact with a water tile (<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Tilesets" title="Tilesets">terrain tags</a>&nbsp;5, 6, 7, 8 or 9).</li>
							<li>Dive - interact with a deep water tile (<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Tilesets" title="Tilesets">terrain tag</a>&nbsp;5).</li>
							<li>Waterfall - interact with a waterfall tile (<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Tilesets" title="Tilesets">terrain tag</a>&nbsp;8).</li>
						</ul>
						<p>
							These interactions need a procedure called&nbsp;<code>Events.onAction</code>, which checks the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Tilesets" title="Tilesets">terrain tag</a>&nbsp;of the tile in front of the player and calls another method that describes the actual effect of that move.
						</p><p>
							For example, the procedure for Surf is as follows:
						</p>
<pre>Events.onAction += proc { |sender,e|
  next if $PokemonGlobal.surfing
  next if pbGetMetadata($game_map.map_id,MetadataBicycleAlways)
  next if !PBTerrain.isSurfable?(Kernel.pbFacingTerrainTag)
  next if&nbsp;!$game_map.passable?($game_player.x,$game_player.y,$game_player.direction,$game_player)
  Kernel.pbSurf
}
</pre>
						<p>
							Note that these procedures do not check for&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Partner_trainer" title="Partner trainer">dependent events</a>&nbsp;or the appropriate&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Pok%C3%A9mon_Gym" title="Pokémon Gym">Gym Badge(s)</a>&nbsp;or so forth - those checks are done in&nbsp;<code>def Kernel.pbSurf</code>&nbsp;(or whichever method is called for other moves). This procedure simply checks whether the player is in the right place to be able to use the move, not whether they are actually allowed to use it.
						</p><p>
							Note that the method called here should first ask the player whether they want to use the move or not, rather than automatically use it straight away.
						</p>
						<h2><span class="mw-headline" id="Using_the_move_from_the_party_screen">Using the move from the party screen</span></h2>
						<p>
							All moves that can be used outside battle should appear in the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Party" title="Party">party</a>&nbsp;screen menu when selecting a Pokémon. This includes all of the above moves, plus:
						</p>
						<ul>
							<li>Chatter</li>
							<li>Dig</li>
							<li>Flash</li>
							<li>Fly</li>
							<li>Milk Drink</li>
							<li>Soft-Boiled</li>
							<li>Sweet Scent</li>
							<li>Teleport</li>
						</ul>
						<p>
							The way the game decides whether a move should appear in the menu is to see whether there exists a&nbsp;<code>HiddenMoveHandlers::CanUseMove</code>&nbsp;handler for each of the Pokémon's moves. If there is, then that move will be added to the menu options (even if it can't be used). However, this does not apply to Milk Drink or Soft-Boiled, which are dealt with separately (see below).
						</p><p>
							There are two types of handler associated with using moves from the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Party" title="Party">party</a>&nbsp;screen:&nbsp;<code>CanUseMove</code>&nbsp;and&nbsp;<code>UseMove</code>. The former does all the checks to decide whether the move can be used, and the latter carries out the move.
						</p><p>
							For example, the two handlers for Surf are as follows:
						</p>
<pre>HiddenMoveHandlers::CanUseMove.add(:SURF,proc { |move,pkmn,showmsg|
  next false if !pbCheckHiddenMoveBadge(BADGEFORSURF,showmsg)
  if $PokemonGlobal.surfing
    Kernel.pbMessage(_INTL("You're already surfing.")) if showmsg
    next false
  end
  if $game_player.pbHasDependentEvents?
    Kernel.pbMessage(_INTL("It can't be used when you have someone with you.")) if showmsg
    next false
  end
  if pbGetMetadata($game_map.map_id,MetadataBicycleAlways)
    Kernel.pbMessage(_INTL("Let's enjoy cycling!")) if showmsg
    next false
  end
  if !PBTerrain.isSurfable?(Kernel.pbFacingTerrainTag) ||
     !$game_map.passable?($game_player.x,$game_player.y,$game_player.direction,$game_player)
    Kernel.pbMessage(_INTL("No surfing here!")) if showmsg
    return false
  end
  next true
})
</pre>
						<p>
							This handler performs all the checks for whether the player is allowed to surf. It returns TRUE if they can.
						</p>
<pre>HiddenMoveHandlers::UseMove.add(:SURF,proc { |move,pokemon|
  $game_temp.in_menu = false
  Kernel.pbCancelVehicles
  if !pbHiddenMoveAnimation(pokemon)
    Kernel.pbMessage(_INTL("{1} used {2}!",pokemon.name,PBMoves.getName(move)))
  end
  surfbgm = pbGetMetadata(0,MetadataSurfBGM)
  pbCueBGM(surfbgm,0.5) if surfbgm
  pbStartSurfing
  next true
})
</pre>
						<p>
							If the player can surf, this handler performs the effect. It displays an animation (see below) and then calls a method that starts the player surfing. This method (<code>def pbStartSurfing</code>) is different to the one called above (<code>def Kernel.pbSurf</code>) because it assumes the player has already confirmed they want to use the move, so the game shouldn't ask the player again whether they want to use it.
						</p><p>
							Note that, in the end, both the&nbsp;<code>UseMove</code>&nbsp;handler above and&nbsp;<code>def Kernel.pbSurf</code>&nbsp;call the same method (<code>def pbStartSurfing</code>). This final method actually handles the start of surfing.
						</p>
						<h3><span class="mw-headline" id="Fly">Fly</span></h3>
						<p>
							Fly is a little more involved, as the move is not used straight away, but instead the player has to choose a destination to fly to. That is, the specific effect of Fly is not the same every time it is used - the destination can vary.
						</p><p>
							Before the hidden move handler for Fly is called, the game opens the&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Region_map" title="Region map">region map</a>&nbsp;screen so that the player can choose a destination. This is done in the <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Script_section" class="mw-redirect" title="Script section">script section</a>&nbsp;<b>PScreen_Party</b>&nbsp;in <code>def pbPokemonScreen</code>. The chosen Fly destination is stored in a temporary variable, and then Fly's hidden move handler is called as normal.
						</p>
						<h3><span class="mw-headline" id="Milk_Drink_and_Soft-Boiled">Milk Drink and Soft-Boiled</span></h3>
						<p>
							These two moves can be used outside battle, but they do not affect anything in the field like other moves do. Instead, they simply affect Pokémon in the player's&nbsp;<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Party" title="Party">party</a>, and thus don't need the&nbsp;party&nbsp;screen to close in order to occur.
						</p><p>
							When deciding which commands should appear in the&nbsp;party&nbsp;screen menu (in the <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Script_section" class="mw-redirect" title="Script section">script section</a>&nbsp;<b>PScreen_Party</b>&nbsp;in <code>def pbPokemonScreen</code>), in addition to looking for hidden move handlers as mentioned above, the game also specifically checks whether the Pokémon knows Milk Drink or Soft-Boiled, and adds these options to the list if so.
						</p><p>
							The effects of these two moves also appear in that same method, a little further down alongside what happens when any of the other menu options (e.g. Summary, Switch) are chosen. There are no separate scripts in the <a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Script_section" class="mw-redirect" title="Script section">script section</a>&nbsp;<b>PField_FieldMoves</b>&nbsp;for these two moves.
						</p>
						<h2><span class="mw-headline" id="Using_move_animation">Using move animation</span></h2>
						<figure class="thumb tright show-info-icon" style="width: 256px"> 	<a href="https://web.archive.org/web/20210512072327/https://static.wikia.nocookie.net/essentialsdocs/images/1/18/UsingMoveOutsideBattle.png/revision/latest?cb=20190824142830" class="image"><img alt="" src="https://web.archive.org/web/20210512072327im_/https://static.wikia.nocookie.net/essentialsdocs/images/1/18/UsingMoveOutsideBattle.png/revision/latest/scale-to-width-down/256?cb=20190824142830" decoding="async" width="256" height="192" class="thumbimage" data-image-name="UsingMoveOutsideBattle.png" data-image-key="UsingMoveOutsideBattle.png"></a> 	 	<figcaption class="thumbcaption"> 		 			<a href="/web/20210512072327/https://essentialsdocs.fandom.com/wiki/File:UsingMoveOutsideBattle.png" class="info-icon"><svg><use xlink:href="#wds-icons-info-small"></use></svg></a> 		 		 		 			<p class="caption">Animation of Gyarados using a move outside battle.</p> 		 	</figcaption> </figure>
						<p>
							When the player uses a move outside battle (except Milk Drink or Soft-Boiled), an animation will be shown of the Pokémon sweeping across the screen. This animation is defined in the script section&nbsp;<b>PField_FieldMoves</b>&nbsp;in <code>def pbHiddenMoveAnimation</code>.
						</p>
						<!--
					NewPP limit report
					Cached time: 20210512033701
					Cache expiry: 1209600
					Dynamic content: false
					CPU time usage: 0.018 seconds
					Real time usage: 0.021 seconds
					Preprocessor visited node count: 52/1000000
					Preprocessor generated node count: 0/1000000
					Post‐expand include size: 102/2097152 bytes
					Template argument size: 80/2097152 bytes
					Highest expansion depth: 2/40
					Expensive parser function count: 0/100
					Unstrip recursion depth: 0/20
					Unstrip post‐expand size: 0/5000000 bytes
					-->
						<!--
					Transclusion expansion time report (%,ms,calls,template)
					100.00%    2.008      1 Template:For
					100.00%    2.008      1 -total
					-->
						<!-- Saved in parser cache with key prod:essentialsdocs:pcache:idhash:171-0!canonical and timestamp 20210512033701 and revision id 728
					 -->
					</div>
				</div>								<div class="printfooter">Retrieved from "<a dir="ltr" href="https://web.archive.org/web/20210512072327/https://essentialsdocs.fandom.com/wiki/Using_moves_outside_battle?oldid=728">https://essentialsdocs.fandom.com/wiki/Using_moves_outside_battle?oldid=728</a>"</div>
			</div>


			<div class="license-description">
				Community content is available under <a href="https://web.archive.org/web/20210512072327/https://www.fandom.com/licensing">CC-BY-SA</a> unless otherwise noted.
			</div>
			<!-- render SkinAfterContent hook output - used by article comments, SMW factbox etc. -->
			<!-- end SkinAfterContent output -->
		</div>
	</article>
	<!-- WikiaMainContent -->
</section>