@{
	Layout = "~/Themes/UnityFX/Layout/_Layout-Wiki.cshtml";
	Page.Title = "Abilities";
}

<section id="WikiaPage" class="WikiaPage V2" onclick="">
	<header id="PageHeader" class="page-header">
		<div class="page-header__main">
			<h1 class="page-header__title">@Page.Title</h1>
		</div>
		@*<div class="page-header__contribution">
			<div>
				<!--Empty div to ensure $actionButton is always pushed to bottom of the container-->
			</div>
			<div class="page-header__contribution-buttons">
				<div class="wds-button-group">
					<a href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Abilities?action=edit" class="wds-button" id="ca-viewsource" data-tracking="ca-viewsource">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 18" class="wds-icon wds-icon-small" id="wds-icons-lock-small">
							<defs>
								<path id="lock-small" d="M14 16H4V8h10v8zM7 4c0-1.104.897-2 2-2s2 .896 2 2v2H7V4zm8 2h-2V4c0-2.205-1.794-4-4-4S5 1.795 5 4v2H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm-5 4H8a1 1 0 1 0 0 2v1a1 1 0 1 0 2 0v-1a1 1 0 1 0 0-2">
								</path>
							</defs>
							<use fill-rule="evenodd" xlink:href="#lock-small">
							</use>
						</svg>
						<span>Edit</span>
					</a>
					<div class="wds-dropdown">
						<div class="wds-button wds-dropdown__toggle">
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" class="wds-icon wds-icon-tiny wds-dropdown__toggle-chevron" id="wds-icons-dropdown-tiny">
								<defs>
									<path id="dropdown-tiny-a" d="M6.0001895,8.80004571 C5.79538755,8.80004571 5.5905856,8.72164496 5.43458411,8.56564348 L2.23455364,5.365613 C2.00575146,5.13681083 1.93695081,4.79280755 2.06095199,4.4936047 C2.18415316,4.19440185 2.47695595,4 2.80015903,4 L9.20021997,4 C9.52342305,4 9.81542583,4.19440185 9.93942701,4.4936047 C10.0634282,4.79280755 9.99462754,5.13681083 9.76582536,5.365613 L6.56579489,8.56564348 C6.4097934,8.72164496 6.20499145,8.80004571 6.0001895,8.80004571 Z">
									</path>
								</defs>
								<use fill-rule="evenodd" xlink:href="#dropdown-tiny-a">
								</use>
							</svg>
						</div>
						<div class="wds-dropdown__content wds-is-not-scrollable wds-is-right-aligned">
							<ul class="wds-list wds-is-linked">
								<li>
									<a id="ca-history" href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Abilities?action=history" data-tracking="ca-history-dropdown">
										History
									</a>
								</li>
								<li>
									<a id="ca-talk" href="/web/20190329212818/https://essentialsdocs.fandom.com/wiki/Talk:Abilities?action=edit&amp;redlink=1" class="new" data-tracking="ca-talk-dropdown">
										Talk (0)
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<a class="wds-button wds-is-secondary" href="#" id="ShareEntryPoint">
					<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 18" class="wds-icon wds-icon-small" id="wds-icons-share-small">
						<defs>
							<path id="share-small" d="M14.5 15a1.502 1.502 0 0 1-1.406-2.022l.022-.05.017-.045c.236-.52.76-.883 1.367-.883.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5M4.906 9.522l-.022.05-.017.045c-.236.52-.76.883-1.367.883C2.673 10.5 2 9.827 2 9s.673-1.5 1.5-1.5c.607 0 1.131.363 1.367.883l.017.045.022.05a1.482 1.482 0 0 1 0 1.044M14.5 3c.827 0 1.5.673 1.5 1.5S15.327 6 14.5 6a1.503 1.503 0 0 1-1.367-.883l-.017-.045-.022-.05A1.502 1.502 0 0 1 14.5 3m0 7c-1.098 0-2.08.508-2.722 1.303L6.983 9.348a3.653 3.653 0 0 0 0-.696l4.795-1.955A3.492 3.492 0 0 0 14.5 8C16.43 8 18 6.43 18 4.5S16.43 1 14.5 1a3.504 3.504 0 0 0-3.483 3.848L6.222 6.803A3.492 3.492 0 0 0 3.5 5.5C1.57 5.5 0 7.07 0 9s1.57 3.5 3.5 3.5c1.098 0 2.08-.508 2.722-1.303l4.795 1.955A3.504 3.504 0 0 0 14.5 17c1.93 0 3.5-1.57 3.5-3.5S16.43 10 14.5 10">
							</path>
						</defs>
						<use fill-rule="evenodd" xlink:href="#share-small">
						</use>
					</svg>
					<span>Share</span>
				</a>
			</div>
		</div>*@
	</header>
	<hr class="page-header__separator">

	<article id="WikiaMainContent" class="WikiaMainContent">
		<div id="WikiaMainContentContainer" class="WikiaMainContentContainer">
			<div id="content" class="WikiaArticle">
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
					<!-- Google Tag Manager (noscript) -->
					<noscript><iframe src="https://web.archive.org/web/20210512070640if_/https://www.googletagmanager.com/ns.html?id=GTM-N6XD44P" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
					<!-- End Google Tag Manager (noscript) -->
					<div class="mw-parser-output">
						<p>
							This page describes&nbsp;<b>time-sensitive events</b>. These are <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">events</a> that are either only usable during a certain <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Time" title="Time">period of time</a> (e.g. an NPC appearing only on Fridays), or which reset themselves at a certain time (e.g. midnight every day) or have a delay after being used (e.g. wait 24 hours).
						</p>
						<div id="toc" class="toc">
							<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
							<ul>
								<li class="toclevel-1 tocsection-1"><a href="#Script_Switches"><span class="tocnumber">1</span> <span class="toctext">Script Switches</span></a></li>
								<li class="toclevel-1 tocsection-2"><a href="#Time_period_only"><span class="tocnumber">2</span> <span class="toctext">Time period only</span></a></li>
								<li class="toclevel-1 tocsection-3">
									<a href="#Time_delay"><span class="tocnumber">3</span> <span class="toctext">Time delay</span></a>
									<ul>
										<li class="toclevel-2 tocsection-4"><a href="#Event_page_1"><span class="tocnumber">3.1</span> <span class="toctext">Event page 1</span></a></li>
										<li class="toclevel-2 tocsection-5"><a href="#Event_page_2"><span class="tocnumber">3.2</span> <span class="toctext">Event page 2</span></a></li>
										<li class="toclevel-2 tocsection-6"><a href="#Event_page_3"><span class="tocnumber">3.3</span> <span class="toctext">Event page 3</span></a></li>
									</ul>
								</li>
								<li class="toclevel-1 tocsection-7"><a href="#Reset_at_midnight"><span class="tocnumber">4</span> <span class="toctext">Reset at midnight</span></a></li>
								<li class="toclevel-1 tocsection-8"><a href="#Reset_at_another_time"><span class="tocnumber">5</span> <span class="toctext">Reset at another time</span></a></li>
							</ul>
						</div>

						<div id="incontent_player" class="gpt-ad"></div><h2><span class="mw-headline" id="Script_Switches">Script Switches</span></h2>
						<dl><dd><i>Main article: <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Events</a></i></dd></dl>
						<p>
							All time-sensitive events will need to decide when they should do their special action, and when they should not. You can do this by using Game Switches (see the main article for more information).
						</p><p>
							As this page describes time-sensitive events, it will use the Game Switches that depend on the time/day/etc. You can of course create new Game Switches to cover the periods of time you want an event to behave differently in.
						</p>
						<h2><span class="mw-headline" id="Time_period_only">Time period only</span></h2>
						<p>
							These events will only be active during a certain period of time (e.g. only between 6pm and 8pm every day, or on Fridays only).
						</p><p>
							Typical uses for this kind of time-sensitive event are:
						</p>
						<ul>
							<li>A&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Event_encounters" title="Event encounters">set Pokémon encounter</a>&nbsp;that can only be triggered during the day.</li>
							<li>An NPC that appears only on a certain day of the week.</li>
							<li>A trainer that only&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Battles" title="Battles">battles</a>&nbsp;at night.</li>
							<li>A prize give-away that is only available during a certain time.</li>
							<li>The <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Bug_Catching_Contest" title="Bug Catching Contest">Bug Catching Contest</a> that only happens on certain days.</li>
						</ul>
						<p>
							Events like this should be set up as follows:
						</p>
						<ul>
							<li>Page 1 - The event as it appears at all other times. This may be blank, or an NPC reciting a line of dialogue, whatever is appropriate.</li>
							<li>Page 2 - The event as it appears during the special period of time (e.g. the NPC challenges the&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Player" title="Player">player</a>&nbsp;to a battle). This page will depend on one or more time-related <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Script Switches</a>.</li>
							<li>Optional other pages - The event as it appears during another special period of time, or the secondary "talking to the NPC after defeating them" page, etc.</li>
						</ul>
						<h2><span class="mw-headline" id="Time_delay">Time delay</span></h2>
						<p>
							Once triggered, these events will begin counting time, and will not allow the primary interaction again until a certain amount of time has passed (e.g. 24 hours). If interacted with before the time has elapsed, a different string of events can occur (e.g. a message saying "Sorry, come back tomorrow.").
						</p><p>
							Typical uses for this kind of time-sensitive event are:
						</p>
						<ul>
							<li>An NPC that gives out a gift once every 24 hours.</li>
							<li>A <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Lottery" class="mw-redirect" title="Lottery">lottery</a> which you can only enter once every 24 hours.</li>
							<li>A berry/apricorn tree that only flowers every 24 hours.</li>
							<li>A tree that can be&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Using_moves_outside_battle" title="Using moves outside battle">Headbutted</a>, but which will only produce an encounter if left alone for an hour.</li>
							<li>A switch that will open a door for only a certain amount of time.</li>
							<li>A&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Event_encounters" title="Event encounters">set Pokémon encounter</a>&nbsp;that occurs once every 24 hours.</li>
						</ul>
						<h3><span class="mw-headline" id="Event_page_1">Event page 1</span></h3>
						<figure class="thumb tright show-info-icon" style="width: 256px"> 	<a href="https://web.archive.org/web/20210512070640/https://static.wikia.nocookie.net/essentialsdocs/images/c/c9/TimeDelayEvent1.png/revision/latest?cb=20190907170916" class="image"><img alt="" src="https://web.archive.org/web/20210512070640im_/https://static.wikia.nocookie.net/essentialsdocs/images/c/c9/TimeDelayEvent1.png/revision/latest/scale-to-width-down/256?cb=20190907170916" decoding="async" width="256" height="243" class="thumbimage" data-image-name="TimeDelayEvent1.png" data-image-key="TimeDelayEvent1.png"></a> 	 	<figcaption class="thumbcaption"> 		 			<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/File:TimeDelayEvent1.png" class="info-icon"><svg><use xlink:href="#wds-icons-info-small"></use></svg></a> 		 		 		 			<p class="caption">Page 1 of a time delay event.</p> 		 	</figcaption> </figure>
						<p>
							The first event page describes the primary interaction, and something in this interaction will start the event to begin counting time. To make the event start counting time, use the following method:
						</p>
<pre>pbSetEventTime
</pre>
						<p>
							This method sets the event's personal variable to the current time, and also sets the event's Self Switch A to ON. Once this method has been used, the event's processing should end.
						</p><p>
							You can use the above method to affect multiple events on the same map at once (e.g. a switch affecting a timed door). To do this, simply include the event IDs of those other events as arguments, like so:
						</p>
<pre>pbSetEventTime(2,3)
</pre>
						<p>
							This example will set the current event's personal variable to the current time and set its Self Switch A, and will also do the same for events 2 and 3 on the same map. Note that this method can&nbsp;<i>only</i>&nbsp;affect events on the same map.
						</p>
						<h3><span class="mw-headline" id="Event_page_2">Event page 2</span></h3>
						<figure class="thumb tright show-info-icon" style="width: 256px"> 	<a href="https://web.archive.org/web/20210512070640/https://static.wikia.nocookie.net/essentialsdocs/images/b/bf/TimeDelayEvent2.png/revision/latest?cb=20190907170927" class="image"><img alt="" src="https://web.archive.org/web/20210512070640im_/https://static.wikia.nocookie.net/essentialsdocs/images/b/bf/TimeDelayEvent2.png/revision/latest/scale-to-width-down/256?cb=20190907170927" decoding="async" width="256" height="243" class="thumbimage" data-image-name="TimeDelayEvent2.png" data-image-key="TimeDelayEvent2.png"></a> 	 	<figcaption class="thumbcaption"> 		 			<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/File:TimeDelayEvent2.png" class="info-icon"><svg><use xlink:href="#wds-icons-info-small"></use></svg></a> 		 		 		 			<p class="caption">Page 2 of a time delay event.</p> 		 	</figcaption> </figure>
						<p>
							The second event page describes the "intermediate" interaction, which is what happens if the player interacts with the event while it is counting. This is typically just a message saying "Try again tomorrow" or something to that effect.
						</p><p>
							This page must have the condition of Self Switch A being ON.
						</p>
						<h3><span class="mw-headline" id="Event_page_3">Event page 3</span></h3>
						<figure class="thumb tright show-info-icon" style="width: 256px"> 	<a href="https://web.archive.org/web/20210512070640/https://static.wikia.nocookie.net/essentialsdocs/images/5/50/TimeDelayEvent3.png/revision/latest?cb=20190907170936" class="image"><img alt="" src="https://web.archive.org/web/20210512070640im_/https://static.wikia.nocookie.net/essentialsdocs/images/5/50/TimeDelayEvent3.png/revision/latest/scale-to-width-down/256?cb=20190907170936" decoding="async" width="256" height="243" class="thumbimage" data-image-name="TimeDelayEvent3.png" data-image-key="TimeDelayEvent3.png"></a> 	 	<figcaption class="thumbcaption"> 		 			<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/File:TimeDelayEvent3.png" class="info-icon"><svg><use xlink:href="#wds-icons-info-small"></use></svg></a> 		 		 		 			<p class="caption">Page 3 of a time delay event.</p> 		 	</figcaption> </figure>
						<p>
							The third event page checks whether the desired amount of time has elapsed. It will check this automatically each time the player enters the map that the event is in, but not while the player remains on the map - they must leave and return in order for the event to recheck itself.
						</p><p>
							This page must have the condition of Self Switch A being ON (like the second page), it must have the Autorun trigger,&nbsp;<i>and</i>&nbsp;it must have the condition of a&nbsp;<a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Switch</a>&nbsp;(e.g. 23:&nbsp;<code>s:cooledDown?(86400)</code>) being ON.
						</p><p>
							The content of this page are as follows:
						</p>
<pre>@@&gt;Control Self Switch: A =OFF
@@&gt;Script: setTempSwitchOn("A")
@@&gt;
</pre>
						<p>
							This page contains only these two lines, and it&nbsp;<i>must</i>&nbsp;contain both of them.
						</p><p>
							The <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Switch</a> used as one of the conditions of this page determines what length of time the event counts down for. It is typically a Script Switch of the following form:
						</p>
<pre>s:cooledDown?(86400)
</pre>
						<p>
							The number is the length of time in seconds (86400 seconds = 24 hours). You can create your own Script Switches with different lengths of time.
						</p>
						<h2><span class="mw-headline" id="Reset_at_midnight">Reset at midnight</span></h2>
						<p>
							This kind of event is similar to the time delay event above, except it counts days rather than seconds. More accurately, it counts the number of midnights that have passed between uses. That is, if the event was made to count 1 day, then it could be used just before and just after midnight and be the regular interaction each time.
						</p><p>
							Typical uses for this kind of time-sensitive event are:
						</p>
						<ul>
							<li>An NPC that gives out a gift once every day.</li>
							<li>A <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Lottery" class="mw-redirect" title="Lottery">lottery</a> which you can only enter once a day.</li>
							<li>A plot device that triggers at midnight.</li>
							<li>A puzzle that resets/changes at midnight.</li>
						</ul>
						<p>
							The event's layout will be the same as described above for a time delay event. The only difference is which <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Switch</a> to use as a condition for page 3. The <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Switch</a> you should use instead will typically be a Script Switch of the following form:
						</p>
<pre>s:expiredDays?(1)&amp;&amp;tsOff?("A")
</pre>
						<p>
							The number is how many days to wait between regular interactions (i.e. the number of midnights that need to elapse). A number of 1 means the event can be used once each day, 2 means every other day, and so on.
						</p>
						<h2><span class="mw-headline" id="Reset_at_another_time">Reset at another time</span></h2>
						<p>
							This kind of event is the same as the "reset at midnight" event above, except the checkpoint time is not midnight but a different time (e.g. 4pm). This kind of event is unusual to have, so creating them is a little more complex.
						</p><p>
							To create this kind of event, begin by making a "time delay" event (<i>not</i>&nbsp;a "reset at midnight" event) as described above.
						</p><p>
							This event will need to calculate how many seconds have to pass after the current time before the event will have "cooled down", rather than having a fixed cool-down period. This length of time will need to be stored in a <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Variable</a> specifically used for this purpose (number 42 in this example). Each event or set of events will need its own <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Variable</a>.
						</p><p>
							Page 3 of the event will need to have a new Script Switch as its condition. This Script Switch should have the following name:
						</p>
<pre>s:cooledDown?(pbGet(<span style="background:yellow">42</span>))
</pre>
						<p>
							The number is that of the <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Variable</a> mentioned above. Each event or set of events will need its own Script Switch whose number is that of their own <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Variable</a>.
						</p><p>
							The only other change to the event will be in page 1, where&nbsp;<code>pbSetEventTime</code>&nbsp;appears. In addition to that line of code, you will also need to include the following:
						</p>
<pre>checkpoint = <span style="background:yellow">16</span>; number = <span style="background:yellow">1</span>
t = 0; tNow = pbGetTimeNow
t += (checkpoint-tNow.hour-1)*3600
t += 3600-tNow.min*60-tNow.sec
t += 24*3600 if tNow.hour&gt;=checkpoint
t += 24*3600*(number-1)
pbSet(<span style="background:yellow">42</span>,t)
</pre>
						<p>
							The three highlighted numbers are the only things you will need to change. The first is the hour you want the checkpoint time to be (4pm in this example), and the second is the number of those checkpoints you want to pass before the event resets (1 means every day, 2 means every other day, etc.). The third is the <a href="/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Events" title="Events">Game Variable</a> number as mentioned above.
						</p><p>
							This code will only allow checkpoints to be on the hour, but that should be more than sufficient for most users. It can be expanded to allow checkpoints at more specific times, but that is an exercise left to the developer.
						</p>
						<!--
					NewPP limit report
					Cached time: 20210510184916
					Cache expiry: 1209600
					Dynamic content: false
					CPU time usage: 0.030 seconds
					Real time usage: 0.034 seconds
					Preprocessor visited node count: 74/1000000
					Preprocessor generated node count: 0/1000000
					Post‐expand include size: 199/2097152 bytes
					Template argument size: 19/2097152 bytes
					Highest expansion depth: 2/40
					Expensive parser function count: 0/100
					Unstrip recursion depth: 0/20
					Unstrip post‐expand size: 0/5000000 bytes
					-->
						<!--
					Transclusion expansion time report (%,ms,calls,template)
					100.00%    4.498      1 -total
					 50.00%    2.249      1 Template:Main
					 41.38%    1.861      4 Template:Hl
					-->
						<!-- Saved in parser cache with key prod:essentialsdocs:pcache:idhash:219-0!canonical and timestamp 20210510184916 and revision id 757
					 -->
					</div>
				</div>								<div class="printfooter">Retrieved from "<a dir="ltr" href="https://web.archive.org/web/20210512070640/https://essentialsdocs.fandom.com/wiki/Time-sensitive_events?oldid=757">https://essentialsdocs.fandom.com/wiki/Time-sensitive_events?oldid=757</a>"</div>
			</div>


			<div class="license-description">
				Community content is available under <a href="https://web.archive.org/web/20210512070640/https://www.fandom.com/licensing">CC-BY-SA</a> unless otherwise noted.
			</div>
			<!-- render SkinAfterContent hook output - used by article comments, SMW factbox etc. -->
			<!-- end SkinAfterContent output -->
		</div>
	</article>
	<!-- WikiaMainContent -->
</section>